import type { Spell } from '@/types'

export const spells: Spell[] = [
  // CANTRIPS (Level 0)
  {
    id: 'acid-splash',
    name: 'Acid Splash',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You create an acidic bubble at a point within range, where it explodes, splashing acid. Each creature in a 5-foot-radius Sphere centered on that point must succeed on a Dexterity saving throw or take 1d6 Acid damage.',
    classes: ['sorcerer', 'wizard'],
    damage: {
      type: 'acid',
      dice: '1d6',
      scaling: { 5: '2d6', 11: '3d6', 17: '4d6' },
    },
    savingThrow: 'dexterity',
    areaOfEffect: { type: 'sphere', size: 5, origin: 'point' },
  },
  {
    id: 'blade-ward',
    name: 'Blade Ward',
    level: 0,
    school: 'abjuration',
    castingTime: '1 action',
    range: 'Self',
    components: { verbal: true, somatic: true },
    duration: '1 round',
    concentration: false,
    ritual: false,
    description: 'You weave protective magic around yourself. Until the start of your next turn, you have Resistance to Bludgeoning, Piercing, and Slashing damage.',
    classes: ['sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'fire-bolt',
    name: 'Fire Bolt',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You hurl a mote of fire at a creature or object within range. Make a ranged spell attack against the target. On a hit, the target takes 1d10 fire damage. A flammable object hit by this spell ignites if it isn\'t being worn or carried.',
    classes: ['sorcerer', 'wizard'],
    damage: {
      type: 'fire',
      dice: '1d10',
      scaling: { 5: '2d10', 11: '3d10', 17: '4d10' },
    },
    attackType: 'ranged',
  },
  {
    id: 'eldritch-blast',
    name: 'Eldritch Blast',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'A beam of crackling energy streaks toward a creature within range. Make a ranged spell attack against the target. On a hit, the target takes 1d10 force damage. The spell creates more than one beam when you reach higher levels.',
    classes: ['warlock'],
    damage: {
      type: 'force',
      dice: '1d10',
      scaling: { 5: '2d10', 11: '3d10', 17: '4d10' },
    },
    attackType: 'ranged',
  },
  {
    id: 'sacred-flame',
    name: 'Sacred Flame',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'Flame-like radiance descends on a creature that you can see within range. The target must succeed on a Dexterity saving throw or take 1d8 radiant damage. The target gains no benefit from cover for this saving throw.',
    classes: ['cleric'],
    damage: {
      type: 'radiant',
      dice: '1d8',
      scaling: { 5: '2d8', 11: '3d8', 17: '4d8' },
    },
    savingThrow: 'dexterity',
  },
  {
    id: 'ray-of-frost',
    name: 'Ray of Frost',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'A frigid beam of blue-white light streaks toward a creature within range. Make a ranged spell attack against the target. On a hit, it takes 1d8 cold damage, and its speed is reduced by 10 feet until the start of your next turn.',
    classes: ['sorcerer', 'wizard'],
    damage: {
      type: 'cold',
      dice: '1d8',
      scaling: { 5: '2d8', 11: '3d8', 17: '4d8' },
    },
    attackType: 'ranged',
    onHitDescription: 'speed reduced by 10 feet until the start of your next turn',
  },
  {
    id: 'chill-touch',
    name: 'Chill Touch',
    level: 0,
    school: 'necromancy',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You create a ghostly, skeletal hand in the space of a creature within range. Make a ranged spell attack against the creature. On a hit, the target takes 1d8 necrotic damage, and it can\'t regain hit points until the start of your next turn.',
    classes: ['sorcerer', 'warlock', 'wizard'],
    damage: {
      type: 'necrotic',
      dice: '1d8',
      scaling: { 5: '2d8', 11: '3d8', 17: '4d8' },
    },
    attackType: 'ranged',
    onHitDescription: 'can\'t regain hit points until the start of your next turn',
  },
  {
    id: 'shocking-grasp',
    name: 'Shocking Grasp',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'Lightning springs from your hand to deliver a shock to a creature you try to touch. Make a melee spell attack against the target. You have advantage on the attack roll if the target is wearing armor made of metal. On a hit, the target takes 1d8 lightning damage, and it can\'t take reactions until the start of its next turn.',
    classes: ['sorcerer', 'wizard'],
    damage: {
      type: 'lightning',
      dice: '1d8',
      scaling: { 5: '2d8', 11: '3d8', 17: '4d8' },
    },
    attackType: 'melee',
    onHitNoReactions: true,
    onHitDescription: 'can\'t take reactions until the start of its next turn',
  },
  {
    id: 'toll-the-dead',
    name: 'Toll the Dead',
    level: 0,
    school: 'necromancy',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You point at one creature you can see within range, and the sound of a dolorous bell fills the air around it for a moment. The target must succeed on a Wisdom saving throw or take 1d8 necrotic damage. If the target is missing any of its hit points, it instead takes 1d12 necrotic damage.',
    classes: ['cleric', 'warlock', 'wizard'],
    damage: {
      type: 'necrotic',
      dice: '1d8',
      scaling: { 5: '2d8', 11: '3d8', 17: '4d8' },
    },
    savingThrow: 'wisdom',
    damagedTargetDieUpgrade: 'd12',
  },
  {
    id: 'light',
    name: 'Light',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, material: 'a firefly or phosphorescent moss' },
    duration: '1 hour',
    concentration: false,
    ritual: false,
    description: 'You touch one object that is no larger than 10 feet in any dimension. Until the spell ends, the object sheds bright light in a 20-foot radius and dim light for an additional 20 feet.',
    classes: ['bard', 'cleric', 'sorcerer', 'wizard'],
  },
  {
    id: 'mage-hand',
    name: 'Mage Hand',
    level: 0,
    school: 'conjuration',
    castingTime: '1 action',
    range: '30 feet',
    components: { verbal: true, somatic: true },
    duration: '1 minute',
    concentration: false,
    ritual: false,
    description: 'A spectral, floating hand appears at a point you choose within range. The hand lasts for the duration or until you dismiss it as an action. The hand can\'t attack, activate magic items, or carry more than 10 pounds.',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'prestidigitation',
    name: 'Prestidigitation',
    level: 0,
    school: 'transmutation',
    castingTime: '1 action',
    range: '10 feet',
    components: { verbal: true, somatic: true },
    duration: 'Up to 1 hour',
    concentration: false,
    ritual: false,
    description: 'This spell is a minor magical trick that novice spellcasters use for practice. You create one of several minor effects.',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
  },

  {
    id: 'mind-sliver',
    name: 'Mind Sliver',
    level: 0,
    school: 'enchantment',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You drive a disorienting spike of psychic energy into the mind of one creature you can see within range. The target must succeed on an Intelligence saving throw or take 1d6 psychic damage and subtract 1d4 from the next saving throw it makes before the end of your next turn.',
    classes: ['sorcerer', 'warlock', 'wizard'],
    damage: {
      type: 'psychic',
      dice: '1d6',
      scaling: { 5: '2d6', 11: '3d6', 17: '4d6' },
    },
    savingThrow: 'intelligence',
    onFailedSaveDescription: 'subtracts 1d4 from its next saving throw before the end of your next turn',
  },
  {
    id: 'poison-spray',
    name: 'Poison Spray',
    level: 0,
    school: 'necromancy',
    castingTime: '1 action',
    range: '30 feet',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You spray a puff of noxious gas from your palm at one creature you can see within range. The target must succeed on a Constitution saving throw or take 1d12 poison damage.',
    classes: ['druid', 'sorcerer', 'warlock', 'wizard'],
    damage: {
      type: 'poison',
      dice: '1d12',
      scaling: { 5: '2d12', 11: '3d12', 17: '4d12' },
    },
    savingThrow: 'constitution',
  },
  {
    id: 'thunderclap',
    name: 'Thunderclap',
    level: 0,
    school: 'evocation',
    castingTime: '1 action',
    range: 'Self (5-foot emanation)',
    components: { somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You create a burst of thunderous sound that can be heard up to 100 feet away. Each creature within a 5-foot Emanation centered on you must succeed on a Constitution saving throw or take 1d6 thunder damage.',
    classes: ['bard', 'druid', 'sorcerer', 'warlock', 'wizard'],
    damage: {
      type: 'thunder',
      dice: '1d6',
      scaling: { 5: '2d6', 11: '3d6', 17: '4d6' },
    },
    savingThrow: 'constitution',
    areaOfEffect: { type: 'sphere', size: 5, origin: 'self' },
  },
  {
    id: 'true-strike',
    name: 'True Strike',
    level: 0,
    school: 'divination',
    castingTime: '1 action',
    range: 'Self',
    components: { somatic: true, material: 'a weapon worth 1+ SP' },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'Guided by a flash of magical insight, you make one attack with the weapon used in the spell\'s casting. The attack uses your spellcasting ability for the attack and damage rolls instead of Strength or Dexterity. If the attack deals damage, it can deal Radiant damage instead of the weapon\'s normal damage type.',
    classes: ['sorcerer', 'warlock', 'wizard'],
    damage: {
      type: 'radiant',
      dice: '1d6',
      scaling: { 5: '2d6', 11: '3d6', 17: '4d6' },
    },
    attackType: 'melee',
  },

  // 1ST LEVEL SPELLS
  {
    id: 'charm-person',
    name: 'Charm Person',
    level: 1,
    school: 'enchantment',
    castingTime: '1 action',
    range: '30 feet',
    components: { verbal: true, somatic: true },
    duration: '1 hour',
    concentration: false,
    ritual: false,
    description: 'One Humanoid you can see within range makes a Wisdom saving throw. It does so with Advantage if you or your allies are fighting it. On a failed save, the target has the Charmed condition until the spell ends or until you or your allies damage it. The Charmed creature is Friendly to you. When the spell ends, the target knows it was Charmed by you.',
    higherLevels: 'You can target one additional creature for each spell slot level above 1.',
    classes: ['bard', 'druid', 'sorcerer', 'warlock', 'wizard'],
    savingThrow: 'wisdom',
    conditionOnFailedSave: 'charmed',
    saveAdvantageInCombat: true,
  },
  {
    id: 'chromatic-orb',
    name: 'Chromatic Orb',
    level: 1,
    school: 'evocation',
    castingTime: '1 action',
    range: '90 feet',
    components: { verbal: true, somatic: true, material: 'a diamond worth 50+ GP' },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You hurl an orb of energy at a target within range. Choose Acid, Cold, Fire, Lightning, Poison, or Thunder for the type of orb you create, and then make a ranged spell attack against the target. On a hit, the target takes 3d8 damage of the chosen type. If you roll the same number on two or more of the d8s, the orb leaps to a different target within 30 feet.',
    higherLevels: 'The damage increases by 1d8 for each spell slot level above 1. The orb can leap a maximum number of times equal to the spell slot level used.',
    classes: ['sorcerer', 'wizard'],
    damage: {
      type: 'acid', // Default type; overridden by damageTypeChoice at cast time
      dice: '3d8',
    },
    attackType: 'ranged',
    damageTypeChoice: ['acid', 'cold', 'fire', 'lightning', 'poison', 'thunder'],
    bounce: { range: 30, maxBounces: 1 },
  },
  {
    id: 'magic-missile',
    name: 'Magic Missile',
    level: 1,
    school: 'evocation',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You create three glowing darts of magical force. Each dart hits a creature of your choice that you can see within range. A dart deals 1d4 + 1 force damage to its target. The darts all strike simultaneously, and you can direct them to hit one creature or several.',
    higherLevels: 'When you cast this spell using a spell slot of 2nd level or higher, the spell creates one more dart for each slot level above 1st.',
    classes: ['sorcerer', 'wizard'],
    damage: {
      type: 'force',
      dice: '1d4+1',
    },
    autoHit: true,
    projectiles: {
      count: 3,
      damagePerProjectile: '1d4+1',
      scalingPerSlotLevel: 1,
    },
  },
  {
    id: 'burning-hands',
    name: 'Burning Hands',
    level: 1,
    school: 'evocation',
    castingTime: '1 action',
    range: 'Self (15-foot cone)',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'As you hold your hands with thumbs touching and fingers spread, a thin sheet of flames shoots forth from your outstretched fingertips. Each creature in a 15-foot cone must make a Dexterity saving throw. A creature takes 3d6 fire damage on a failed save, or half as much damage on a successful one.',
    higherLevels: 'When you cast this spell using a spell slot of 2nd level or higher, the damage increases by 1d6 for each slot level above 1st.',
    classes: ['sorcerer', 'wizard'],
    damage: {
      type: 'fire',
      dice: '3d6',
    },
    savingThrow: 'dexterity',
    areaOfEffect: { type: 'cone', size: 15 },
  },
  {
    id: 'cure-wounds',
    name: 'Cure Wounds',
    level: 1,
    school: 'evocation',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'A creature you touch regains a number of hit points equal to 1d8 + your spellcasting ability modifier. This spell has no effect on undead or constructs.',
    higherLevels: 'When you cast this spell using a spell slot of 2nd level or higher, the healing increases by 1d8 for each slot level above 1st.',
    classes: ['bard', 'cleric', 'druid', 'paladin', 'ranger'],
  },
  {
    id: 'healing-word',
    name: 'Healing Word',
    level: 1,
    school: 'evocation',
    castingTime: '1 bonus action',
    range: '60 feet',
    components: { verbal: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'A creature of your choice that you can see within range regains hit points equal to 1d4 + your spellcasting ability modifier. This spell has no effect on undead or constructs.',
    higherLevels: 'When you cast this spell using a spell slot of 2nd level or higher, the healing increases by 1d4 for each slot level above 1st.',
    classes: ['bard', 'cleric', 'druid'],
  },
  {
    id: 'shield',
    name: 'Shield',
    level: 1,
    school: 'abjuration',
    castingTime: '1 reaction, which you take when you are hit by an attack or targeted by the magic missile spell',
    range: 'Self',
    components: { verbal: true, somatic: true },
    duration: '1 round',
    concentration: false,
    ritual: false,
    description: 'An invisible barrier of magical force appears and protects you. Until the start of your next turn, you have a +5 bonus to AC, including against the triggering attack, and you take no damage from magic missile.',
    classes: ['sorcerer', 'wizard'],
    reaction: {
      trigger: 'on_hit',
      effect: {
        type: 'ac_bonus',
        value: 5,
      },
    },
  },
  {
    id: 'mage-armor',
    name: 'Mage Armor',
    level: 1,
    school: 'abjuration',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true, material: 'a piece of cured leather' },
    duration: '8 hours',
    concentration: false,
    ritual: false,
    description: 'You touch a willing creature who isn\'t wearing armor, and a protective magical force surrounds it until the spell ends. The target\'s base AC becomes 13 + its Dexterity modifier. The spell ends if the target dons armor or if you dismiss the spell as an action.',
    classes: ['sorcerer', 'wizard'],
  },
  {
    id: 'thunderwave',
    name: 'Thunderwave',
    level: 1,
    school: 'evocation',
    castingTime: '1 action',
    range: 'Self (15-foot cube)',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'A wave of thunderous force sweeps out from you. Each creature in a 15-foot cube originating from you must make a Constitution saving throw. On a failed save, a creature takes 2d8 thunder damage and is pushed 10 feet away from you. On a successful save, the creature takes half as much damage and isn\'t pushed.',
    higherLevels: 'When you cast this spell using a spell slot of 2nd level or higher, the damage increases by 1d8 for each slot level above 1st.',
    classes: ['bard', 'druid', 'sorcerer', 'wizard'],
    damage: {
      type: 'thunder',
      dice: '2d8',
    },
    savingThrow: 'constitution',
    areaOfEffect: { type: 'cube', size: 15, origin: 'self' },
  },
  {
    id: 'sleep',
    name: 'Sleep',
    level: 1,
    school: 'enchantment',
    castingTime: '1 action',
    range: '90 feet',
    components: { verbal: true, somatic: true, material: 'a pinch of fine sand, rose petals, or a cricket' },
    duration: '1 minute',
    concentration: false,
    ritual: false,
    description: 'This spell sends creatures into a magical slumber. Roll 5d8; the total is how many hit points of creatures this spell can affect. Creatures within 20 feet of a point you choose are affected in ascending order of their current hit points.',
    higherLevels: 'When you cast this spell using a spell slot of 2nd level or higher, roll an additional 2d8 for each slot level above 1st.',
    classes: ['bard', 'sorcerer', 'wizard'],
    areaOfEffect: { type: 'sphere', size: 20 },
  },
  {
    id: 'guiding-bolt',
    name: 'Guiding Bolt',
    level: 1,
    school: 'evocation',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true },
    duration: '1 round',
    concentration: false,
    ritual: false,
    description: 'A flash of light streaks toward a creature of your choice within range. Make a ranged spell attack against the target. On a hit, the target takes 4d6 radiant damage, and the next attack roll made against this target before the end of your next turn has advantage.',
    higherLevels: 'When you cast this spell using a spell slot of 2nd level or higher, the damage increases by 1d6 for each slot level above 1st.',
    classes: ['cleric'],
    damage: {
      type: 'radiant',
      dice: '4d6',
    },
    attackType: 'ranged',
  },
  {
    id: 'bless',
    name: 'Bless',
    level: 1,
    school: 'enchantment',
    castingTime: '1 action',
    range: '30 feet',
    components: { verbal: true, somatic: true, material: 'a sprinkling of holy water' },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    ritual: false,
    description: 'You bless up to three creatures of your choice within range. Whenever a target makes an attack roll or a saving throw before the spell ends, the target can roll a d4 and add the number rolled to the attack roll or saving throw.',
    higherLevels: 'When you cast this spell using a spell slot of 2nd level or higher, you can target one additional creature for each slot level above 1st.',
    classes: ['cleric', 'paladin'],
  },
  {
    id: 'inflict-wounds',
    name: 'Inflict Wounds',
    level: 1,
    school: 'necromancy',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'Make a melee spell attack against a creature you can reach. On a hit, the target takes 3d10 necrotic damage.',
    higherLevels: 'When you cast this spell using a spell slot of 2nd level or higher, the damage increases by 1d10 for each slot level above 1st.',
    classes: ['cleric'],
    damage: {
      type: 'necrotic',
      dice: '3d10',
    },
    attackType: 'melee',
  },
  // RANGER 1ST LEVEL SPELLS
  {
    id: 'hunters-mark',
    name: 'Hunter\'s Mark',
    level: 1,
    school: 'divination',
    castingTime: '1 bonus action',
    range: '90 feet',
    components: { verbal: true },
    duration: 'Concentration, up to 1 hour',
    concentration: true,
    ritual: false,
    description: 'You choose a creature you can see within range and mystically mark it as your quarry. Until the spell ends, you deal an extra 1d6 damage to the target whenever you hit it with a weapon attack, and you have advantage on any Wisdom (Perception) or Wisdom (Survival) check you make to find it.',
    higherLevels: 'When you cast this spell using a spell slot of 3rd or 4th level, you can maintain your concentration on the spell for up to 8 hours. When you use a spell slot of 5th level or higher, you can maintain your concentration on the spell for up to 24 hours.',
    classes: ['ranger'],
    damage: {
      type: 'piercing',
      dice: '1d6',
    },
  },
  {
    id: 'longstrider',
    name: 'Longstrider',
    level: 1,
    school: 'transmutation',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true, material: 'a pinch of dirt' },
    duration: '1 hour',
    concentration: false,
    ritual: false,
    description: 'You touch a creature. The target\'s speed increases by 10 feet until the spell ends.',
    higherLevels: 'When you cast this spell using a spell slot of 2nd level or higher, you can target one additional creature for each slot level above 1st.',
    classes: ['bard', 'druid', 'ranger', 'wizard'],
  },
  {
    id: 'goodberry',
    name: 'Goodberry',
    level: 1,
    school: 'transmutation',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true, material: 'a sprig of mistletoe' },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'Up to ten berries appear in your hand and are infused with magic for the duration. A creature can use its action to eat one berry. Eating a berry restores 1 hit point, and the berry provides enough nourishment to sustain a creature for one day.',
    classes: ['druid', 'ranger'],
  },
  {
    id: 'ensnaring-strike',
    name: 'Ensnaring Strike',
    level: 1,
    school: 'conjuration',
    castingTime: '1 bonus action',
    range: 'Self',
    components: { verbal: true },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    ritual: false,
    description: 'The next time you hit a creature with a weapon attack before this spell ends, a writhing mass of thorny vines appears at the point of impact, and the target must succeed on a Strength saving throw or be restrained by the magical vines until the spell ends. A Large or larger creature has advantage on this saving throw. If the target succeeds on the save, the vines shrivel away.',
    higherLevels: 'If you cast this spell using a spell slot of 2nd level or higher, the damage increases by 1d6 for each slot level above 1st.',
    classes: ['ranger'],
    damage: {
      type: 'piercing',
      dice: '1d6',
    },
    savingThrow: 'strength',
  },
  {
    id: 'hail-of-thorns',
    name: 'Hail of Thorns',
    level: 1,
    school: 'conjuration',
    castingTime: '1 bonus action',
    range: 'Self',
    components: { verbal: true },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    ritual: false,
    description: 'The next time you hit a creature with a ranged weapon attack before the spell ends, this spell creates a rain of thorns that sprouts from your ranged weapon or ammunition. In addition to the normal effect of the attack, the target of the attack and each creature within 5 feet of it must make a Dexterity saving throw. A creature takes 1d10 piercing damage on a failed save, or half as much damage on a successful one.',
    higherLevels: 'If you cast this spell using a spell slot of 2nd level or higher, the damage increases by 1d10 for each slot level above 1st.',
    classes: ['ranger'],
    damage: {
      type: 'piercing',
      dice: '1d10',
    },
    savingThrow: 'dexterity',
    areaOfEffect: { type: 'sphere', size: 5 },
  },
  {
    id: 'fog-cloud',
    name: 'Fog Cloud',
    level: 1,
    school: 'conjuration',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true },
    duration: 'Concentration, up to 1 hour',
    concentration: true,
    ritual: false,
    description: 'You create a 20-foot-radius sphere of fog centered on a point within range. The sphere spreads around corners, and its area is heavily obscured. It lasts for the duration or until a wind of moderate or greater speed (at least 10 miles per hour) disperses it.',
    higherLevels: 'When you cast this spell using a spell slot of 2nd level or higher, the radius of the fog increases by 20 feet for each slot level above 1st.',
    classes: ['druid', 'ranger', 'sorcerer', 'wizard'],
    areaOfEffect: { type: 'sphere', size: 20 },
  },
  {
    id: 'speak-with-animals',
    name: 'Speak with Animals',
    level: 1,
    school: 'divination',
    castingTime: '1 action',
    range: 'Self',
    components: { verbal: true, somatic: true },
    duration: '10 minutes',
    concentration: false,
    ritual: true,
    description: 'You gain the ability to comprehend and verbally communicate with beasts for the duration. The knowledge and awareness of many beasts is limited by their intelligence, but at minimum, beasts can give you information about nearby locations and monsters, including whatever they can perceive or have perceived within the past day.',
    classes: ['bard', 'druid', 'ranger'],
  },

  // 2ND LEVEL SPELLS
  {
    id: 'scorching-ray',
    name: 'Scorching Ray',
    level: 2,
    school: 'evocation',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You create three rays of fire and hurl them at targets within range. You can hurl them at one target or several. Make a ranged spell attack for each ray. On a hit, the target takes 2d6 fire damage.',
    higherLevels: 'When you cast this spell using a spell slot of 3rd level or higher, you create one additional ray for each slot level above 2nd.',
    classes: ['sorcerer', 'wizard'],
    damage: {
      type: 'fire',
      dice: '2d6',
    },
    attackType: 'ranged',
  },
  {
    id: 'hold-person',
    name: 'Hold Person',
    level: 2,
    school: 'enchantment',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: true, material: 'a small, straight piece of iron' },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    ritual: false,
    description: 'Choose a humanoid that you can see within range. The target must succeed on a Wisdom saving throw or be paralyzed for the duration. At the end of each of its turns, the target can make another Wisdom saving throw. On a success, the spell ends on the target.',
    higherLevels: 'When you cast this spell using a spell slot of 3rd level or higher, you can target one additional humanoid for each slot level above 2nd.',
    classes: ['bard', 'cleric', 'druid', 'sorcerer', 'warlock', 'wizard'],
    savingThrow: 'wisdom',
    conditionOnFailedSave: 'paralyzed',
  },
  {
    id: 'misty-step',
    name: 'Misty Step',
    level: 2,
    school: 'conjuration',
    castingTime: '1 bonus action',
    range: 'Self',
    components: { verbal: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'Briefly surrounded by silvery mist, you teleport up to 30 feet to an unoccupied space that you can see.',
    classes: ['sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'spiritual-weapon',
    name: 'Spiritual Weapon',
    level: 2,
    school: 'evocation',
    castingTime: '1 bonus action',
    range: '60 feet',
    components: { verbal: true, somatic: true },
    duration: '1 minute',
    concentration: false,
    ritual: false,
    description: 'You create a floating, spectral weapon within range that lasts for the duration or until you cast this spell again. When you cast the spell, you can make a melee spell attack against a creature within 5 feet of the weapon. On a hit, the target takes force damage equal to 1d8 + your spellcasting ability modifier.',
    higherLevels: 'When you cast this spell using a spell slot of 3rd level or higher, the damage increases by 1d8 for every two slot levels above 2nd.',
    classes: ['cleric'],
    damage: {
      type: 'force',
      dice: '1d8',
    },
  },
  {
    id: 'shatter',
    name: 'Shatter',
    level: 2,
    school: 'evocation',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: true, material: 'a chip of mica' },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'A sudden loud ringing noise, painfully intense, erupts from a point of your choice within range. Each creature in a 10-foot-radius sphere centered on that point must make a Constitution saving throw. A creature takes 3d8 thunder damage on a failed save, or half as much damage on a successful one.',
    higherLevels: 'When you cast this spell using a spell slot of 3rd level or higher, the damage increases by 1d8 for each slot level above 2nd.',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
    damage: {
      type: 'thunder',
      dice: '3d8',
    },
    savingThrow: 'constitution',
    areaOfEffect: { type: 'sphere', size: 10 },
  },
  {
    id: 'mirror-image',
    name: 'Mirror Image',
    level: 2,
    school: 'illusion',
    castingTime: '1 action',
    range: 'Self',
    components: { verbal: true, somatic: true },
    duration: '1 minute',
    concentration: false,
    ritual: false,
    description: 'Three illusory duplicates of yourself appear in your space. Until the spell ends, the duplicates move with you and mimic your actions. Each time a creature targets you with an attack, roll a d20 to determine whether the attack instead targets one of your duplicates.',
    classes: ['sorcerer', 'warlock', 'wizard'],
  },

  // RANGER 2ND LEVEL SPELLS
  {
    id: 'pass-without-trace',
    name: 'Pass Without Trace',
    level: 2,
    school: 'abjuration',
    castingTime: '1 action',
    range: 'Self',
    components: { verbal: true, somatic: true, material: 'ashes from a burned leaf of mistletoe and a sprig of spruce' },
    duration: 'Concentration, up to 1 hour',
    concentration: true,
    ritual: false,
    description: 'A veil of shadows and silence radiates from you, masking you and your companions from detection. For the duration, each creature you choose within 30 feet of you (including you) has a +10 bonus to Dexterity (Stealth) checks and can\'t be tracked except by magical means.',
    classes: ['druid', 'ranger'],
    areaOfEffect: { type: 'sphere', size: 30 },
  },
  {
    id: 'spike-growth',
    name: 'Spike Growth',
    level: 2,
    school: 'transmutation',
    castingTime: '1 action',
    range: '150 feet',
    components: { verbal: true, somatic: true, material: 'seven sharp thorns or seven small twigs, each sharpened to a point' },
    duration: 'Concentration, up to 10 minutes',
    concentration: true,
    ritual: false,
    description: 'The ground in a 20-foot radius centered on a point within range twists and sprouts hard spikes and thorns. The area becomes difficult terrain for the duration. When a creature moves into or within the area, it takes 2d4 piercing damage for every 5 feet it travels.',
    classes: ['druid', 'ranger'],
    damage: {
      type: 'piercing',
      dice: '2d4',
    },
    areaOfEffect: { type: 'sphere', size: 20 },
  },
  {
    id: 'lesser-restoration',
    name: 'Lesser Restoration',
    level: 2,
    school: 'abjuration',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You touch a creature and can end either one disease or one condition afflicting it. The condition can be blinded, deafened, paralyzed, or poisoned.',
    classes: ['bard', 'cleric', 'druid', 'paladin', 'ranger'],
  },
  {
    id: 'silence',
    name: 'Silence',
    level: 2,
    school: 'illusion',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true },
    duration: 'Concentration, up to 10 minutes',
    concentration: true,
    ritual: true,
    description: 'For the duration, no sound can be created within or pass through a 20-foot-radius sphere centered on a point you choose within range. Any creature or object entirely inside the sphere is immune to thunder damage, and creatures are deafened while entirely inside it. Casting a spell that includes a verbal component is impossible there.',
    classes: ['bard', 'cleric', 'ranger'],
    areaOfEffect: { type: 'sphere', size: 20 },
  },

  // 3RD LEVEL SPELLS
  {
    id: 'fireball',
    name: 'Fireball',
    level: 3,
    school: 'evocation',
    castingTime: '1 action',
    range: '150 feet',
    components: { verbal: true, somatic: true, material: 'a tiny ball of bat guano and sulfur' },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'A bright streak flashes from your pointing finger to a point you choose within range and then blossoms with a low roar into an explosion of flame. Each creature in a 20-foot-radius sphere centered on that point must make a Dexterity saving throw. A target takes 8d6 fire damage on a failed save, or half as much damage on a successful one.',
    higherLevels: 'When you cast this spell using a spell slot of 4th level or higher, the damage increases by 1d6 for each slot level above 3rd.',
    classes: ['sorcerer', 'wizard'],
    damage: {
      type: 'fire',
      dice: '8d6',
    },
    savingThrow: 'dexterity',
    areaOfEffect: { type: 'sphere', size: 20 },
  },
  {
    id: 'lightning-bolt',
    name: 'Lightning Bolt',
    level: 3,
    school: 'evocation',
    castingTime: '1 action',
    range: 'Self (100-foot line)',
    components: { verbal: true, somatic: true, material: 'a bit of fur and a rod of amber, crystal, or glass' },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'A stroke of lightning forming a line 100 feet long and 5 feet wide blasts out from you in a direction you choose. Each creature in the line must make a Dexterity saving throw. A creature takes 8d6 lightning damage on a failed save, or half as much damage on a successful one.',
    higherLevels: 'When you cast this spell using a spell slot of 4th level or higher, the damage increases by 1d6 for each slot level above 3rd.',
    classes: ['sorcerer', 'wizard'],
    damage: {
      type: 'lightning',
      dice: '8d6',
    },
    savingThrow: 'dexterity',
    areaOfEffect: { type: 'line', size: 100 },
  },
  {
    id: 'counterspell',
    name: 'Counterspell',
    level: 3,
    school: 'abjuration',
    castingTime: '1 reaction, which you take when you see a creature within 60 feet of you casting a spell',
    range: '60 feet',
    components: { somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You attempt to interrupt a creature in the process of casting a spell. If the creature is casting a spell of 3rd level or lower, its spell fails and has no effect. If it is casting a spell of 4th level or higher, make an ability check using your spellcasting ability. The DC equals 10 + the spell\'s level. On a success, the creature\'s spell fails and has no effect.',
    higherLevels: 'When you cast this spell using a spell slot of 4th level or higher, the interrupted spell has no effect if its level is less than or equal to the level of the spell slot you used.',
    classes: ['sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'dispel-magic',
    name: 'Dispel Magic',
    level: 3,
    school: 'abjuration',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'Choose one creature, object, or magical effect within range. Any spell of 3rd level or lower on the target ends. For each spell of 4th level or higher on the target, make an ability check using your spellcasting ability. The DC equals 10 + the spell\'s level. On a successful check, the spell ends.',
    higherLevels: 'When you cast this spell using a spell slot of 4th level or higher, you automatically end the effects of a spell on the target if the spell\'s level is equal to or less than the level of the spell slot you used.',
    classes: ['bard', 'cleric', 'druid', 'paladin', 'sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'haste',
    name: 'Haste',
    level: 3,
    school: 'transmutation',
    castingTime: '1 action',
    range: '30 feet',
    components: { verbal: true, somatic: true, material: 'a shaving of licorice root' },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    ritual: false,
    description: 'Choose a willing creature that you can see within range. Until the spell ends, the target\'s speed is doubled, it gains a +2 bonus to AC, it has advantage on Dexterity saving throws, and it gains an additional action on each of its turns. When the spell ends, the target can\'t move or take actions until after its next turn.',
    classes: ['sorcerer', 'wizard'],
  },
  {
    id: 'spirit-guardians',
    name: 'Spirit Guardians',
    level: 3,
    school: 'conjuration',
    castingTime: '1 action',
    range: 'Self (15-foot radius)',
    components: { verbal: true, somatic: true, material: 'a holy symbol' },
    duration: 'Concentration, up to 10 minutes',
    concentration: true,
    ritual: false,
    description: 'You call forth spirits to protect you. They flit around you to a distance of 15 feet for the duration. When a creature enters the area for the first time on a turn or starts its turn there, it must make a Wisdom saving throw. On a failed save, the creature takes 3d8 radiant damage (if you are good or neutral) or 3d8 necrotic damage (if you are evil). On a successful save, the creature takes half as much damage.',
    higherLevels: 'When you cast this spell using a spell slot of 4th level or higher, the damage increases by 1d8 for each slot level above 3rd.',
    classes: ['cleric'],
    damage: {
      type: 'radiant',
      dice: '3d8',
    },
    savingThrow: 'wisdom',
    areaOfEffect: { type: 'sphere', size: 15 },
  },
  {
    id: 'mass-healing-word',
    name: 'Mass Healing Word',
    level: 3,
    school: 'evocation',
    castingTime: '1 bonus action',
    range: '60 feet',
    components: { verbal: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'As you call out words of restoration, up to six creatures of your choice that you can see within range regain hit points equal to 1d4 + your spellcasting ability modifier. This spell has no effect on undead or constructs.',
    higherLevels: 'When you cast this spell using a spell slot of 4th level or higher, the healing increases by 1d4 for each slot level above 3rd.',
    classes: ['cleric'],
  },

  // 4TH LEVEL SPELLS
  {
    id: 'ice-storm',
    name: 'Ice Storm',
    level: 4,
    school: 'evocation',
    castingTime: '1 action',
    range: '300 feet',
    components: { verbal: true, somatic: true, material: 'a pinch of dust and a few drops of water' },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'A hail of rock-hard ice pounds to the ground in a 20-foot-radius, 40-foot-high cylinder centered on a point within range. Each creature in the cylinder must make a Dexterity saving throw. A creature takes 2d8 bludgeoning damage and 4d6 cold damage on a failed save, or half as much damage on a successful one.',
    higherLevels: 'When you cast this spell using a spell slot of 5th level or higher, the bludgeoning damage increases by 1d8 for each slot level above 4th.',
    classes: ['druid', 'sorcerer', 'wizard'],
    damage: {
      type: 'cold',
      dice: '4d6',
    },
    savingThrow: 'dexterity',
    areaOfEffect: { type: 'cylinder', size: 20 },
  },
  {
    id: 'dimension-door',
    name: 'Dimension Door',
    level: 4,
    school: 'conjuration',
    castingTime: '1 action',
    range: '500 feet',
    components: { verbal: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'You teleport yourself from your current location to any other spot within range. You arrive at exactly the spot desired. It can be a place you can see, one you can visualize, or one you can describe by stating distance and direction.',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
  },
  {
    id: 'greater-invisibility',
    name: 'Greater Invisibility',
    level: 4,
    school: 'illusion',
    castingTime: '1 action',
    range: 'Touch',
    components: { verbal: true, somatic: true },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    ritual: false,
    description: 'You or a creature you touch becomes invisible until the spell ends. Anything the target is wearing or carrying is invisible as long as it is on the target\'s person.',
    classes: ['bard', 'sorcerer', 'wizard'],
  },
  {
    id: 'banishment',
    name: 'Banishment',
    level: 4,
    school: 'abjuration',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: true, material: 'an item distasteful to the target' },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    ritual: false,
    description: 'You attempt to send one creature that you can see within range to another plane of existence. The target must succeed on a Charisma saving throw or be banished. If the spell ends before 1 minute has passed, the target reappears.',
    higherLevels: 'When you cast this spell using a spell slot of 5th level or higher, you can target one additional creature for each slot level above 4th.',
    classes: ['cleric', 'paladin', 'sorcerer', 'warlock', 'wizard'],
    savingThrow: 'charisma',
    conditionOnFailedSave: 'incapacitated',
  },

  // 5TH LEVEL SPELLS
  {
    id: 'cone-of-cold',
    name: 'Cone of Cold',
    level: 5,
    school: 'evocation',
    castingTime: '1 action',
    range: 'Self (60-foot cone)',
    components: { verbal: true, somatic: true, material: 'a small crystal or glass cone' },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'A blast of cold air erupts from your hands. Each creature in a 60-foot cone must make a Constitution saving throw. A creature takes 8d8 cold damage on a failed save, or half as much damage on a successful one.',
    higherLevels: 'When you cast this spell using a spell slot of 6th level or higher, the damage increases by 1d8 for each slot level above 5th.',
    classes: ['sorcerer', 'wizard'],
    damage: {
      type: 'cold',
      dice: '8d8',
    },
    savingThrow: 'constitution',
    areaOfEffect: { type: 'cone', size: 60 },
  },
  {
    id: 'mass-cure-wounds',
    name: 'Mass Cure Wounds',
    level: 5,
    school: 'evocation',
    castingTime: '1 action',
    range: '60 feet',
    components: { verbal: true, somatic: true },
    duration: 'Instantaneous',
    concentration: false,
    ritual: false,
    description: 'A wave of healing energy washes out from a point of your choice within range. Choose up to six creatures in a 30-foot-radius sphere centered on that point. Each target regains hit points equal to 3d8 + your spellcasting ability modifier. This spell has no effect on undead or constructs.',
    higherLevels: 'When you cast this spell using a spell slot of 6th level or higher, the healing increases by 1d8 for each slot level above 5th.',
    classes: ['bard', 'cleric', 'druid'],
    areaOfEffect: { type: 'sphere', size: 30 },
  },
  {
    id: 'wall-of-force',
    name: 'Wall of Force',
    level: 5,
    school: 'evocation',
    castingTime: '1 action',
    range: '120 feet',
    components: { verbal: true, somatic: true, material: 'a pinch of powder made by crushing a clear gemstone' },
    duration: 'Concentration, up to 10 minutes',
    concentration: true,
    ritual: false,
    description: 'An invisible wall of force springs into existence at a point you choose within range. The wall is immune to all damage and can\'t be dispelled by dispel magic. A disintegrate spell destroys the wall instantly, however. The wall also extends into the Ethereal Plane, blocking ethereal travel through the wall.',
    classes: ['wizard'],
  },
  {
    id: 'hold-monster',
    name: 'Hold Monster',
    level: 5,
    school: 'enchantment',
    castingTime: '1 action',
    range: '90 feet',
    components: { verbal: true, somatic: true, material: 'a small, straight piece of iron' },
    duration: 'Concentration, up to 1 minute',
    concentration: true,
    ritual: false,
    description: 'Choose a creature that you can see within range. The target must succeed on a Wisdom saving throw or be paralyzed for the duration. This spell has no effect on undead. At the end of each of its turns, the target can make another Wisdom saving throw. On a success, the spell ends on the target.',
    higherLevels: 'When you cast this spell using a spell slot of 6th level or higher, you can target one additional creature for each slot level above 5th.',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
    savingThrow: 'wisdom',
    conditionOnFailedSave: 'paralyzed',
  },
]

export function getSpellById(id: string): Spell | undefined {
  return spells.find(s => s.id === id)
}

export function getAllSpells(): Spell[] {
  return spells
}

export function getSpellsByLevel(level: number): Spell[] {
  return spells.filter(s => s.level === level)
}

export function getSpellsByClass(className: string): Spell[] {
  return spells.filter(s => s.classes.includes(className.toLowerCase()))
}

export function getSpellsBySchool(school: string): Spell[] {
  return spells.filter(s => s.school === school.toLowerCase())
}

export function getCantrips(): Spell[] {
  return getSpellsByLevel(0)
}

export function getSpellsForClassAtLevel(className: string, maxLevel: number): Spell[] {
  return spells.filter(s =>
    s.classes.includes(className.toLowerCase()) && s.level <= maxLevel
  )
}
